# =============================================================================
# NoteNest - Umgebungsvariablen (Production)
# =============================================================================
# Diese Datei ist ein Template fÃ¼r Production-Deployment
# Kopiere zu .env und passe die Werte fÃ¼r deine Umgebung an
# =============================================================================

# -----------------------------------------------------------------------------
# JWT Secrets (WICHTIG: Starke Secrets generieren!)
# -----------------------------------------------------------------------------
# Generierung mit OpenSSL: openssl rand -base64 64
JWT_SECRET=GENERATE-STRONG-SECRET-HERE-MIN-64-CHARS
JWT_REFRESH_SECRET=GENERATE-DIFFERENT-STRONG-SECRET-HERE-MIN-64-CHARS

# -----------------------------------------------------------------------------
# Authentifizierung
# -----------------------------------------------------------------------------
# Modi: local | ldap | synology | hybrid
AUTH_MODE=hybrid
LDAP_ENABLED=true

# LDAP-Konfiguration (fÃ¼r Synology NAS)
LDAP_URL=ldaps://your-nas.local:636
LDAP_BASE_DN=dc=synology,dc=local
LDAP_BIND_DN=cn=notenest-service,ou=services,dc=synology,dc=local
LDAP_BIND_PASSWORD=your-ldap-bind-password
LDAP_USER_SEARCH_BASE=ou=users,dc=synology,dc=local
LDAP_USER_SEARCH_FILTER=(uid={username})

# -----------------------------------------------------------------------------
# Datenbank
# -----------------------------------------------------------------------------
# Production: Absoluter Pfad im Container
DB_PATH=/data/database/notenest.db

# -----------------------------------------------------------------------------
# Server
# -----------------------------------------------------------------------------
PORT=3000
NODE_ENV=production

# -----------------------------------------------------------------------------
# NAS-Integration
# -----------------------------------------------------------------------------
# NAS-Typ: synology | qnap | generic (leer fÃ¼r keine NAS-Integration)
NAS_TYPE=synology

# Container-Pfade (mÃ¼ssen mit docker-compose volumes Ã¼bereinstimmen)
NAS_HOMES_PATH=/data/homes
NAS_SHARED_PATH=/data/shared

# User-Mapping: same | mapped (same = NoteNest-User = NAS-User)
USER_MAPPING_MODE=same

# -----------------------------------------------------------------------------
# Bibelstellen-API
# -----------------------------------------------------------------------------
BIBLE_API_ENABLED=true
BIBLE_API_KEY=your-api-bible-key-from-scripture-api-bible
BIBLE_API_URL=https://api.scripture.api.bible
BIBLE_API_CACHE_TTL=3600

# Alternative: Bible SuperSearch API (Fallback)
BIBLE_SUPERSEARCH_ENABLED=true
BIBLE_SUPERSEARCH_URL=https://api.biblesupersearch.com/api

# Lokale Bibel-Dateien (Container-Pfad)
BIBLE_LOCAL_PATH=/app/data/bibles

# -----------------------------------------------------------------------------
# Logging
# -----------------------------------------------------------------------------
# Levels: error | warn | info | debug (Production: info oder warn)
LOG_LEVEL=info
LOG_DIR=/app/logs
LOG_FILE=/app/logs/notenest.log

# -----------------------------------------------------------------------------
# Sicherheit
# -----------------------------------------------------------------------------
# Rate Limiting (Anfragen pro Zeitfenster)
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100

# -----------------------------------------------------------------------------
# Monitoring (Optional)
# -----------------------------------------------------------------------------
# Prometheus Metriken aktivieren
METRICS_ENABLED=true
